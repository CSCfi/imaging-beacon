{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "definitions": {},
    "type": "object",
    "title": "POST /query schema",
    "properties": {
        "biologicalSpecies": {
            "title": "Origin species of sample, e.g. human",
            "type": "string"
        },
        "anatomicalSite": {
            "title": "Extraction site for sample, e.g. kidney",
            "type": "string"
        },
        "sex": {
            "title": "Sex of sample donor",
            "type": "string",
            "enum": [
                "F",
                "M",
                ""
            ]
        },
        "age": {
            "title": "Age of extraction for sample in ISO 8601 Duration notation. Age range is given in an array, e.g. [P20Y, P30Y]. If only one value is given, e.g. 'P30Y', then `ageOption` must also be used",
            "type": [
                "string",
                "array"
            ],
            "items": {
                "type": "string"
            },
            "minItems": 2,
            "maxItems": 2,
            "uniqueItems": true
        },
        "ageOption": {
            "title": "Age comparator for greater than or less than",
            "type": "string",
            "enum": [
                ">",
                "<"
            ]
        },
        "searchTerm": {
            "title": "Keywords for dataset description lookup",
            "type": "array",
            "items": {
                "type": "string"
            }
        }
    },
    "if": {
        "properties": {
            "age": {
                "type": "string"
            }
        }
    },
    "then": {
        "required": [
            "ageOption"
        ]
    },
    "else": {
        "properties": {
            "age": {
                "minItems": 2
            }
        }
    }
}
